@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>@ViewBag.Title</title>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/5.1.3/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/css/toastr.min.css" />

    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <!-- jQuery Validate -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.19.3/jquery.validate.min.js"></script>
    <!-- jQuery Unobtrusive Validation -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validation-unobtrusive/3.2.12/jquery.validate.unobtrusive.min.js"></script>

    <!-- Font Awesome for Icons -->
    <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
</head>
<body>
    <div class="row">
        <div class="col-xxl-12 col-lg-12">
            <div class="card">
                <div class="card-header">
                    <ul class="nav nav-tabs-custom rounded card-header-tabs border-bottom-0">
                        <li class="nav-item">
                            <a id="basic-tab" class="nav-link" asp-action="CreateEmployeeBasic" asp-controller="Employee">
                                <i class="fas fa-home"></i>
                                Basic Details
                            </a>
                        </li>
                        <li class="nav-item">
                            <a id="personal-tab" class="nav-link" asp-action="CreateEmployeePersonal" asp-controller="Employee">
                                <i class="fas fa-user"></i>
                                Personal Details
                            </a>
                        </li>
                        <li class="nav-item">
                            <a id="education-tab" class="nav-link" asp-action="CreateEmployeeEducation" asp-controller="EmployeeEducation">
                                <i class="fas fa-graduation-cap"></i>
                                Education & Experience
                            </a>
                        </li>
                        <li class="nav-item">
                            <a id="family-tab" class="nav-link" asp-action="CreateEmployeeFamily" asp-controller="EmployeeFamily">
                                <i class="fas fa-users"></i>
                                Family
                            </a>
                        </li>
                        <li class="nav-item">
                            <a id="documents-tab" class="nav-link" asp-action="Create" asp-controller="EmployeeDocument">
                                <i class="fas fa-file-alt"></i>
                                Documents
                            </a>
                        </li>
                        <li class="nav-item">
                            <a id="references-tab" class="nav-link" asp-action="ReferenceView" asp-controller="EmployeeReferral">
                                <i class="fas fa-address-book"></i>
                                References
                            </a>
                        </li>
                    </ul>
                </div>
                <div class="card-body">
                    @RenderBody()
                </div>
            </div>
        </div>
    </div>

    <script src="~/js/site.js" asp-append-version="true"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/5.1.3/js/bootstrap.bundle.min.js"></script>

    @RenderSection("Scripts", required: false)
    <partial name="_ValidationScriptsPartial" />

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            var currentUrl = window.location.href;
            var activeTabId = "basic-tab";  // Default active tab

            if (currentUrl.includes("CreateEmployeeBasic")) {
                activeTabId = "basic-tab";
            } else if (currentUrl.includes("CreateEmployeePersonal")) {
                activeTabId = "personal-tab";
            } else if (currentUrl.includes("CreateEmployeeEducation")) {
                activeTabId = "education-tab";
            } else if (currentUrl.includes("EmployeeFamily")) {
                activeTabId = "family-tab";
            } else if (currentUrl.includes("Create")) {
                activeTabId = "documents-tab";
            } else if (currentUrl.includes("EmployeeReference")) {
                activeTabId = "references-tab";
            }

            setActiveTab(activeTabId);
        });

        function setActiveTab(tabId) {
            document.querySelectorAll('.nav-link').forEach(function (tab) {
                tab.classList.remove('active');
            });
            document.getElementById(tabId).classList.add('active');
        }
    </script>
</body>
</html>
