@using ApwPayrollWebApp.Models
@using ApwPayroll_Domain.common.Enums.MarriedStatus


@model EmployeeCreateViewModel
@{
    ViewData["Title"] = "CreateEmployeePersonal";
    Layout = "~/Views/Shared/Registration/_RegistrationLayout.cshtml";
}



<div class="tab-content">
    <div class="tab-pane active" id="personalDetails" role="tabpanel">
        <form asp-action="CreateEmployeePersonal" asp-controller="EmployeePersonalDetail" method="post" id="personalDetailsForm">
            <input asp-for="EmployeePersonalDetail.Id" hidden/>
            <input asp-for="EmployeePersonalDetail.CreateEmployeeBank.Id" hidden/>
            <input asp-for="EmployeePersonalDetail.PermanentAddress.EmployeeId" hidden/>
            <input asp-for="EmployeePersonalDetail.ResidentialAddress.EmployeeId" hidden/>
            <div class="row g-3">
                <input type="hidden" asp-for="EmployeePersonalDetail.Id" name="employeeId" value="@ViewBag.employeeId" />
                
                 
                <div class="col-lg-4">
                    <label asp-for=" EmployeePersonalDetail.Gender" class="form-label">Gender</label>
                    <div class="input-group">
                        <span class="input-group-text">
                            <i class="ri-parent-fill"></i>
                        </span>
                        <select asp-for=" EmployeePersonalDetail.Gender" class="form-control form-control-sm" required>
                            <option value="" selected disabled>Select a gender</option>
                            @foreach (var gender in ViewBag.GenderLookup)
                            {
                                <option value="@gender.Id">@gender.Name</option>
                            }
                        </select>
                    </div>
                    <span asp-validation-for="EmployeePersonalDetail.Gender" class="text-danger"></span>
                </div>
                <div class="col-lg-4">
                    <label asp-for="EmployeePersonalDetail.DOB" class="form-label">Date Of Birth</label>
                    <div class="input-group">
                        <span class="input-group-text">
                            <i class="ri-calendar-event-fill"></i>
                        </span>
                        <input asp-for="EmployeePersonalDetail.DOB" type="date" class="form-control form-control-sm" data-provider="flatpickr" placeholder="Enter DOB" required />
                        @*<input hid asp-for="Id" ViewBag.EmployeeId type="text" class="form-control form-control-sm" data-provider="flatpickr" placeholder="Enter DOB" />
                        *@
                    </div>
                    <span asp-validation-for="EmployeePersonalDetail.DOB" class="text-danger"></span>
                </div>
                <div class="col-lg-4">
                    <label asp-for="EmployeePersonalDetail.PlaceOfBirth" class="form-label">Place Of Birth</label>
                    <div class="input-group">
                        <span class="input-group-text">
                            <i class="bx bxs-location-plus"></i>
                        </span>
                        <input asp-for="EmployeePersonalDetail.PlaceOfBirth" type="text" class="form-control form-control" placeholder="Enter Place of Birth"/>
                    </div>
                    <span asp-validation-for="EmployeePersonalDetail.PlaceOfBirth" class="text-danger"></span>
                </div>
                <div class="col-lg-4">

                    <label asp-for="EmployeePersonalDetail.BloodGroup" class="form-label">Blood Group</label>
                    <div class="input-group">
                        <span class="input-group-text">
                            <i class="mdi mdi-blood-bag"></i>
                        </span>
                        <select asp-for="EmployeePersonalDetail.BloodGroup" class="form-control form-control-sm">
                            <option value"" disabled selected>Select Blood Group</option>
                            @foreach (var booldgroup in ViewBag.bloodGroup)
                            {
                                <option value="@booldgroup.Id">@booldgroup.Name</option>
                            }
                        </select>
                    </div>
                    <span asp-validation-for="EmployeePersonalDetail.BloodGroup" class="text-danger"></span>
                </div>
                <div class="col-lg-4">
                    <label asp-for="EmployeePersonalDetail.Religion" class="form-label">Religion</label>
                    <div class="input-group">
                        <span class="input-group-text">
                            <i class="ri-pencil-fill"></i>
                        </span>
                        
                        <select asp-for="EmployeePersonalDetail.Religion" class="form-control form-control-sm">
                            @foreach (var religion in ViewBag.Religion)
                            {
                                <option value="@religion.Id">@religion.Name</option>
                            }
                        </select>
                    </div>
                    <span asp-validation-for="EmployeePersonalDetail.Religion" class="text-danger"></span>
                </div>
                <div class="col-lg-4">
                    <label asp-for="EmployeePersonalDetail.PermanentAddress.Nationality" class="form-label">Nationality</label>
                    <div class="input-group">
                        <span class="input-group-text">
                            <i class="ri-edit-circle-fill  "></i>
                        </span>
                         
                        <select asp-for="EmployeePersonalDetail.ResidentialAddress.Nationality" class="form-control form-control-sm">
                            <option value="Indian">Indian</option>
                            <option value="Other">Other</option>
                        </select>
                        <input asp-for="EmployeePersonalDetail.PermanentAddress.Nationality" hidden value="EmployeePersonalDetail.ResidentialAddress.Nationality" />
                    </div>
                    <span asp-validation-for="EmployeePersonalDetail.PermanentAddress.Nationality" class="text-danger"></span>
                </div>
            </div>
            <div class="row mb-2">
         
            </div>

            @* Emergency Contact *@
            <label class="mt-3 fs-3  text-danger">Emergency Contact</label><hr />
            <div class="row mt-1 mb-2">
                <div class="col-lg-4">
                    <input hidden asp-for="EmployeePersonalDetail.Emergency.Name" value="Emergency Contact" />
                    <label asp-for="EmployeePersonalDetail.Emergency.RelationTypeId" class="form-label">Relation Type</label>
                    <div class="input-group">
                        <span class="input-group-text">
                            <i class="ri-user-fill"></i>
                        </span>

                        <select asp-for="EmployeePersonalDetail.Emergency.RelationTypeId" id="relationType" class="form-control form-control-sm">
                            <option value="" selected disabled>select Relation Type</option>

                            @foreach (var relation in ViewBag.relationType)
                            {
                                <option value="@relation.Id">@relation.Name</option>
                            }

                        </select>

                    </div>
                    <span asp-validation-for="EmployeePersonalDetail.Emergency.RelationType" class="text-danger"></span>
                </div>
                <div class="col-lg-4">
                    <label asp-for="EmployeePersonalDetail.Emergency.Email" class="form-label">Email</label>
                    <div class="input-group">
                        <span class="input-group-text">
                            <i class=" ri-mail-unread-fill"></i>
                        </span>
                        <input asp-for="EmployeePersonalDetail.Emergency.Email" type="text" class="form-control form-control-sm" placeholder="Enter a valid Email Id">

                    </div>
                    <span asp-validation-for="EmployeePersonalDetail.Emergency.Email" class="text-danger"></span>
                </div>
                <div class="col-lg-4">
                    <label asp-for="EmployeePersonalDetail.Emergency.MobileNumber" class="form-label">Mobile Number</label>
                    <div class="input-group">
                        <span class="input-group-text">
                            <i class="ri-smartphone-fill"></i>
                        </span>
                        <input asp-for="EmployeePersonalDetail.Emergency.MobileNumber" id="mobileNumber" type="text" class="form-control form-control-sm" placeholder="Enter Emergency Mobile Number" />
                    </div>
                    <span asp-validation-for="EmployeePersonalDetail.Emergency.MobileNumber" class="text-danger"></span>
                </div>
            </div>
            <div class="row mt-1 mb-2">
                <div class="col-lg-4">
                    <label asp-for="EmployeePersonalDetail.Emergency.WhatsAppNumber" class="form-label">Whats App Number</label>
                    <div class="input-group">
                        <span class="input-group-text">
                            <i class="ri-smartphone-fill"></i>
                        </span>
                        <input asp-for="EmployeePersonalDetail.Emergency.WhatsAppNumber" type="text" class="form-control form-control-sm" placeholder="Enter WhatsApp Number " />
                    </div>
                    <span asp-validation-for="EmployeePersonalDetail.Emergency.WhatsAppNumber" class="text-danger"></span>
                </div>
            </div>

            @* Family Detail for addition *@

            <label class="mt-3 fs-3 text-danger"> Family Detail</label><hr />

            <div class="row mt-1 mb-2">
                <div class="col-lg-6">
                    <label asp-for="EmployeePersonalDetail.FatherName" class="form-label">Father Name</label>
                    <div class="input-group">
                        <span class="input-group-text">
                            <i class="ri-user-fill"></i>
                        </span>
                        <input asp-for="EmployeePersonalDetail.FatherName" type="text" class="form-control form-control-sm" placeholder="Enter Father Name"  required/>
                    </div>
                    <span asp-validation-for="EmployeePersonalDetail.FatherName" class="text-danger"></span>
                </div>
                <div class="col-lg-6">
                    <label asp-for="EmployeePersonalDetail.FatherDOB" class="form-label">Father Date Of Birth</label>
                    <div class="input-group">
                        <span class="input-group-text">
                            <i class="ri-calendar-event-fill"></i>
                        </span>
                        <input asp-for="EmployeePersonalDetail.FatherDOB" class="form-control form-control-sm" data-provider="flatpickr" placeholder="Enter your father DOB">
                    </div>
                    <span asp-validation-for="EmployeePersonalDetail.FatherDOB" class="text-danger"></span>
                </div>
            </div>
            <div class="row mt-1 mb-2">
                <div class="col-lg-6">
                    <label asp-for="EmployeePersonalDetail.MotherName" class="form-label">Mother Name</label>
                    <div class="input-group">
                        <span class="input-group-text">
                            <i class="ri-user-fill"></i>
                        </span>
                        <input asp-for="EmployeePersonalDetail.MotherName" type="text" class="form-control form-control-sm" placeholder="Enter Mother Name" />
                    </div>
                    <span asp-validation-for="EmployeePersonalDetail.MotherName" class="text-danger"></span>
                </div>


                <div class="col-lg-6">
                    <label asp-for="EmployeePersonalDetail.MotherDOB" class="form-label">Mother Date Of Birth</label>
                    <div class="input-group">
                        <span class="input-group-text">
                            <i class="ri-calendar-event-fill"></i>
                        </span>
                        <input asp-for="EmployeePersonalDetail.MotherDOB" class="form-control form-control-sm" data-provider="flatpickr" placeholder="Enter Mother Date Of Birth">
                    </div>
                    <span asp-validation-for="EmployeePersonalDetail.MotherDOB" class="text-danger"></span>
                </div>
            </div>
            <div>
                <div class="col-lg-4">
                    <label asp-for="EmployeePersonalDetail.MarriedStatus" class="form-label">Marital Status</label>
                    <div class="input-group">
                        <span class="input-group-text">
                            <i class="ri-arrow-down-s-fill"></i>
                        </span>

                        <select asp-for="EmployeePersonalDetail.MarriedStatus" id="maritalStatusDropdown" class="form-control form-control-sm" required>
                            <option value="" selected disabled>Select Marital Status</option>
                            @foreach (var marital in ViewBag.martialStatus)
                            {
                                <option value="@marital.Id">@marital.Name</option>
                            }
                        </select>

                    </div>
                    <span asp-validation-for="EmployeePersonalDetail.MarriedStatus" class="text-danger"></span>

                </div>
            </div>

            <div id="spouseDetails" style="@((Model?.EmployeePersonalDetail != null && Model.EmployeePersonalDetail.MarriedStatus == MarriedStatusEnum.Married) ? "" : "display:none;")">
                <div class="row mb-2">
                    <div class="col-lg-3">
                        <label asp-for="EmployeePersonalDetail.SpouseName" class="form-label">Spouse Name</label>
                        <div class="input-group">
                            <span class="input-group-text">
                                <i class="ri-user-fill"></i>
                            </span>
                            <input asp-for="EmployeePersonalDetail.SpouseName" id="spouseName" type="text" class="form-control form-control-sm" placeholder="Enter spouse name" data-val-required="Spouse Name field is required" />
                        </div>
                        <span asp-validation-for="EmployeePersonalDetail.SpouseName" class="text-danger"></span>
                    </div>
                    <div class="col-lg-3">
                        <label asp-for="EmployeePersonalDetail.SpouseDOB" class="form-label">Spouse Date Of Birth</label>
                        <div class="input-group">
                            <span class="input-group-text">
                                <i class="ri-calendar-event-fill"></i>
                            </span>
                            <input asp-for="EmployeePersonalDetail.SpouseDOB" id="spouseDOB" class="form-control form-control-sm" data-provider="flatpickr" placeholder="Enter spouse date of birth" />
                        </div>
                        <span asp-validation-for="EmployeePersonalDetail.SpouseDOB" class="text-danger"></span>
                    </div>
                    <div class="col-lg-3">
                        <label asp-for="EmployeePersonalDetail.SpouseGender" class="form-label"  >Spouse Gender</label>
                        <div class="input-group">
                            <span class="input-group-text">
                                <i class="ri-calendar-event-fill"></i>
                            </span>
                            <select asp-for="EmployeePersonalDetail.SpouseGender" class="form-control form-control-sm" required>
                                <option value="" selected disabled>Select a gender</option>
                                @foreach (var gender in ViewBag.GenderLookup)
                                {
                                    <option value="@gender.Id">@gender.Name</option>
                                }
                            </select>
                           
                        </div>
                        <span asp-validation-for="EmployeePersonalDetail.SpouseGender" class="text-danger"></span>
                    </div>
                    <div class="col-lg-3">
                        <label asp-for="EmployeePersonalDetail.DateOfWedding" class="form-label">Date Of Wedding</label>
                        <div class="input-group">
                            <span class="input-group-text">
                                <i class="ri-calendar-event-fill"></i>
                            </span>
                            <input asp-for="EmployeePersonalDetail.DateOfWedding" id="dateOfWedding" class="form-control form-control-sm" data-provider="flatpickr" placeholder="Enter your wedding date">
                        </div>
                        <span asp-validation-for="EmployeePersonalDetail.DateOfWedding" class="text-danger"></span>
                    </div>
                </div>
            </div>    @* Address *@


            <label class="mt-3 fs-3 text-danger">Residential Address</label><hr />
            <div class="row mt-1 mb-2">
                <div class="col-lg-4">
                    <label asp-for="EmployeePersonalDetail. ResidentialAddress.Address1" class="form-label">Address Line 1</label>
                    <div class="input-group">
                        <span class="input-group-text">
                            <i class=" ri-pencil-fill"></i>
                        </span>
                        <input asp-for="EmployeePersonalDetail. ResidentialAddress.Address1"  id="address1"type="text" class="form-control form-control-sm" placeholder="Address line 1" />
                    </div>
                    <span asp-validation-for="EmployeePersonalDetail.ResidentialAddress.Address1" class="text-danger"></span>
                </div>
                <div class="col-lg-4">
                    <label asp-for="EmployeePersonalDetail. ResidentialAddress.Address2" class="form-label">Address Line 2</label>
                    <div class="input-group">
                        <span class="input-group-text">
                            <i class=" ri-pencil-fill"></i>
                        </span>
                        <input asp-for="EmployeePersonalDetail. ResidentialAddress.Address2" type="text" class="form-control form-control-sm" placeholder="Address line 2" />
                    </div>
                    <span asp-validation-for="EmployeePersonalDetail.ResidentialAddress.Address2" class="text-danger"></span>
                </div>
                <div class="col-lg-4">
                    <label asp-for="EmployeePersonalDetail. ResidentialAddress.Address3" class="form-label">Address Line 3</label>
                    <div class="input-group">
                        <span class="input-group-text">
                            <i class=" ri-pencil-fill"></i>
                        </span>
                        <input asp-for="EmployeePersonalDetail. ResidentialAddress.Address3" type="text" class="form-control form-control-sm" placeholder="Address line 3" />
                    </div>
                    <span asp-validation-for="EmployeePersonalDetail.ResidentialAddress.Address3" class="text-danger"></span>
                </div>
            </div>
            <div class="row mt-1 mb-2">
                <div class="col-lg-3">
                    <label class="form-label">Country</label>
                    <div class="input-group">
                        <span class="input-group-text">
                            <i class="ri-arrow-down-s-fill"></i>
                        </span>
                        <select class="form-control form-control-sm" id="countryDropdown">
                            <option hidden>Select Country</option>
                            @foreach (var item in ViewBag.Country)
                            {
                                <option value="@item.Id">@item.Name</option>
                            }
                        </select>
                    </div>
                </div>
                <div class="col-lg-3">
                    <label asp-for="EmployeePersonalDetail.ResidentialAddress.StateId" class="form-label">State</label>
                    <div class="input-group">
                        <span class="input-group-text">
                            <i class="ri-arrow-down-s-fill"></i>
                        </span>
                        <select class="form-control form-control-sm" id="stateDropdown" asp-for="EmployeePersonalDetail.PermanentAddress.StateId">
                        </select>
                    </div>
                </div>
                <div class="col-lg-3">
                    <label class="form-label">City</label>
                    <div class="input-group">
                        <span class="input-group-text">
                            <i class="ri-arrow-down-s-fill"></i>
                        </span>
                        <select class="form-control form-control-sm" id="city" asp-for="EmployeePersonalDetail.ResidentialAddress.LocationId">
                        </select>
                    </div>
                    <span asp-validation-for="EmployeePersonalDetail.ResidentialAddress.LocationId" class="text-danger"></span>
                </div>
                <div class="col-lg-3">
                    <label asp-for="EmployeePersonalDetail.ResidentialAddress.PinCode" class="form-label">Pin Code</label>
                    <div class="input-group">
                        <span class="input-group-text">
                            <i class="ri-pencil-fill"></i>
                        </span>
                        <input asp-for="EmployeePersonalDetail.ResidentialAddress.PinCode" id="pincode" type="number" class="form-control form-control-sm" placeholder="Enter pin code" />
                    </div>
                    <span asp-validation-for="EmployeePersonalDetail.ResidentialAddress.PinCode" class="text-danger"></span>
                </div>
            </div>
            <hr />
            <label class="mt-3 fs-3 text-danger">Parmanent Address</label><hr />
            <div class="row mt-1 mb-2">
                <div class="col-lg-4">
                    <label asp-for="EmployeePersonalDetail.PermanentAddress.Address1"  class="form-label">Address Line 1</label>
                    <div class="input-group">
                        <span class="input-group-text">
                            <i class=" ri-pencil-fill"></i>
                        </span>
                        <input asp-for="EmployeePersonalDetail.PermanentAddress.Address1" id="addressPermanent" type="text" class="form-control form-control-sm" placeholder="Address line 1" />
                    </div>
                    <span asp-validation-for="EmployeePersonalDetail.PermanentAddress.Address1" class="text-danger"></span>
                </div>
                <div class="col-lg-4">
                    <label asp-for="EmployeePersonalDetail.PermanentAddress.Address2" class="form-label">Address Line 2</label>
                    <div class="input-group">
                        <span class="input-group-text">
                            <i class=" ri-pencil-fill"></i>
                        </span>
                        <input asp-for="EmployeePersonalDetail.PermanentAddress.Address2" type="text" class="form-control form-control-sm" placeholder="Address line 2" />
                    </div>
                    <span asp-validation-for="EmployeePersonalDetail.PermanentAddress.Address2" class="text-danger"></span>
                </div>
                <div class="col-lg-4">
                    <label asp-for="EmployeePersonalDetail.PermanentAddress.Address3" class="form-label">Address Line 3</label>
                    <div class="input-group">
                        <span class="input-group-text">
                            <i class=" ri-pencil-fill"></i>
                        </span>
                        <input asp-for="EmployeePersonalDetail.PermanentAddress.Address3" type="text" class="form-control form-control-sm" placeholder="Address line 3" />
                    </div>
                    <span asp-validation-for="EmployeePersonalDetail.PermanentAddress.Address3" class="text-danger"></span>
                </div>
            </div>
            <div class="row mt-1 mb-2">

                <div class="col-lg-3">
                    <label class="form-label">Country</label>
                    <div class="input-group">
                        <span class="input-group-text">
                            <i class="ri-arrow-down-s-fill"></i>
                        </span>
                        <select class="form-control form-control-sm" id="countryDropdown">
                            <option hidden>Select Country</option>
                            @foreach (var item in ViewBag.Country)
                            {
                                <option value="@item.Id">@item.Name</option>
                            }
                        </select>
                    </div>
                </div>
                <div class="col-lg-3">
                    <label asp-for="EmployeePersonalDetail.ResidentialAddress.StateId" class="form-label">State</label>
                    <div class="input-group">
                        <span class="input-group-text">
                            <i class="ri-arrow-down-s-fill"></i>
                        </span>
                        <select class="form-control form-control-sm" id="stateDropdown">
                            <option value="" selected disabled>Select State</option>
                        </select>
                    </div>
                </div>
                <div class="col-lg-3">
                    <label class="form-label">City</label>
                    <div class="input-group">
                        <span class="input-group-text">
                            <i class="ri-arrow-down-s-fill"></i>
                        </span>
                        <select class="form-control form-control-sm" id="cityPermanent" asp-for="EmployeePersonalDetail.PermanentAddress.LocationId">
                            <option value="" selected disabled>Select City</option>
                        </select>
                    </div>
                    <span asp-validation-for="EmployeePersonalDetail.PermanentAddress.LocationId" class="text-danger"></span>
                </div>
                <div class="col-lg-3">
                    <label asp-for="EmployeePersonalDetail.PermanentAddress.PinCode" class="form-label">Pin Code</label>
                    <div class="input-group">
                        <span class="input-group-text">
                            <i class=" ri-pencil-fill"></i>
                        </span>
                        <input asp-for="EmployeePersonalDetail.PermanentAddress.PinCode" id="pinPermanent" type="number" class="form-control form-control-sm" placeholder="Enter pin code" />

                    </div>
                    <span asp-validation-for="EmployeePersonalDetail.PermanentAddress.PinCode" class="text-danger"></span>
                </div>
            </div>

            @* Bank Deatail *@
            <label class="mt-3 fs-3 text-danger">Bank Detail</label><hr />
            <div class="row mb-2">
                <div class="col-lg-4">
                    <label asp-for="EmployeePersonalDetail.CreateEmployeeBank.AccountName" class="form-label">Bank Account Name</label>
                    <div class="input-group">
                        <span class="input-group-text">
                            <i class="ri-pencil-fill"></i>
                        </span>
                        <input asp-for="EmployeePersonalDetail.CreateEmployeeBank.AccountName" type="text" class="form-control form-control-sm" placeholder="Bank account name" />
                    </div>
                    <span asp-validation-for="EmployeePersonalDetail.CreateEmployeeBank.AccountName" class="text-danger"></span>
                </div>
                <div class="col-lg-4">
                    <label  class="form-label">Bank Name</label>
                    <div class="input-group">
                        <span class="input-group-text">
                            <i class="bx bxs-bank"></i>
                        </span>

                        <select asp-for="EmployeePersonalDetail.CreateEmployeeBank.BankId" class="form-control form-control" required>
                            <option value="" selected disabled>Select a Bank</option>
                            @foreach (var bank in ViewBag.Bank)
                            {
    
                                <option value="@bank.Id">@bank.Name </option>
                            }
                     
                        </select>
                        
                    </div>
                    <span asp-validation-for="EmployeePersonalDetail.CreateEmployeeBank.BankId" class="text-danger"></span>

                </div>

            </div>
            <div class="row mb-2">

                <div class="col-lg-4">
                    <label asp-for="EmployeePersonalDetail.CreateEmployeeBank.BanAccountId" class="form-label">Account Number</label>
                    <div class="input-group">
                        <span class="input-group-text">
                            <i class="mdi mdi-account-details"></i>
                        </span>
                        <input asp-for="EmployeePersonalDetail.CreateEmployeeBank.BanAccountId" type="text" class="form-control form-control-sm" placeholder="Enter account number" required/>
                    </div>
                    <span asp-validation-for="EmployeePersonalDetail.CreateEmployeeBank.BanAccountId" class="text-danger"></span>
                </div>
                <div class="col-lg-4">
                    <label asp-for="EmployeePersonalDetail.CreateEmployeeBank.IFCCode" class="form-label">IFSC Code</label>
                    <div class="input-group">
                        <span class="input-group-text">
                            <i class="ri-pencil-fill"></i>
                        </span>
                        <input asp-for="EmployeePersonalDetail.CreateEmployeeBank.IFCCode" type="text" class="form-control form-control-sm" placeholder="Enter IFSC code"  required/>
                    </div>
                    <span asp-validation-for="EmployeePersonalDetail.CreateEmployeeBank.IFCCode" class="text-danger"></span>
                </div>
                <div class="row mb-2">
                    <div class="col-lg-4">
                        <label asp-for="EmployeePersonalDetail.CreateEmployeeBank.AccountBranch" class="form-label">Account Branch</label>
                        <div class="input-group">
                            <span class="input-group-text">
                                <i class="mdi mdi-account-details"></i>
                            </span>
                            <input asp-for="EmployeePersonalDetail.CreateEmployeeBank.AccountBranch" type="text" class="form-control form-control" placeholder="Enter account Branch Name" />
                        </div>
                        <span asp-validation-for="EmployeePersonalDetail.CreateEmployeeBank.AccountBranch" class="text-danger"></span>
                    </div>
                    <div class="col-lg-4">
                        <label asp-for="EmployeePersonalDetail.CreateEmployeeBank.AccountType" class="form-label">Account Type</label>
                        <div class="input-group">
                            <span class="input-group-text">
                                <i class="ri-pencil-fill"></i>
                            </span>
                            <select asp-for="EmployeePersonalDetail.CreateEmployeeBank.AccountType" class="form-control form-control-sm" required>
                                <option value="" selected disabled>Select a Bank</option>
                                @foreach (var accountType in ViewBag.AccountType)
                                {
                                    <option value="@accountType.Id">@accountType.Name</option>
                                }
                            </select>
                        </div>
                        <span asp-validation-for="EmployeePersonalDetail.CreateEmployeeBank.AccountType" class="text-danger"></span>
                    </div>
                </div>


            </div>

            <div class="row mb-2">

                <div class="col-lg-12">
                    <div class="hstack gap-2 justify-content-end">
                        <button type="reset" class="btn btn-outline-danger">
                            Cancel
                        </button>

                        @if (Model != null && Model.EmployeePersonalDetail != null)
                        {
                            if (Model.EmployeePersonalDetail.Id != 0)
                            {
                                <button type="submit" class="btn btn-secondary">
                                    Update
                                </button>
                            }

                        }
                        else
                        {
                             
                            <button type="submit" class="btn btn-secondary">
                                Save & Next
                            </button>
                        }
                   
                    </div>
                </div>
            </div>
        </form>

    </div>
</div>

 
@section scripts {
    <!-- dropzone min -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="~/assets/libs/dropzone/dropzone-min.js"></script>

    <!--crypto-kyc init-->
    <script src="~/assets/js/pages/crypto-kyc.init.js"></script>

    <!-- App js -->
    <script src="~/assets/js/app.js"></script>

    <partial name="_ValidationScriptsPartial" />



    
    <script>
        // to make emergency mobileNumber field is required
        $(document).ready(function () {
            $('#relationType').change(function () {
                if ($(this).val()) {
                    $('#mobileNumber').attr('required', 'required');
                } else {
                    $('#mobileNumber').removeAttr('required');
                }
            });
        });
        //to make city and pincode required
        $(document).ready(function () {
            $('#address1').on('input', function () {
                if ($(this).val()) {
                    $('#city').attr('required', 'required');
                    $('#pincode').attr('required', 'required');
                } else {
                    $('#city').removeAttr('required');
                    $('#pincode').removeAttr('required');
                }
            });
        });
        $(document).ready(function () {
            $('#addressPermanent').on('input', function () {
                if ($(this).val()) {
                    $('#cityPermanent').attr('required', 'required');
                    $('#pinPermanent').attr('required', 'required');
                } else {
                    $('#cityPermanent').removeAttr('required');
                    $('#pinPermanent').removeAttr('required');
                }
            });
        });
    </script>

   
<script>
        $(document).ready(function () {
            var maritalStatusDropdown = $('#maritalStatusDropdown');
            var spouseDetails = $('#spouseDetails');
            var spouseFields = $('#spouseName, #spouseDOB, #spouseGender, #dateOfWedding');

            function toggleSpouseDetails(isMarried) {
                if (isMarried) {
                    spouseDetails.slideDown();
                    spouseFields.attr('required', true);
                } else {
                    spouseDetails.slideUp();
                    spouseFields.removeAttr('required');
                }
            }

            // Initial check to show/hide spouse details based on the initial value
            toggleSpouseDetails(maritalStatusDropdown.val() == '2');

            maritalStatusDropdown.change(function () {
                var selectedValue = $(this).val();
                console.log("Selected Value: " + selectedValue);
                toggleSpouseDetails(selectedValue == '2');
            });
        });
</script>





    <script>
        $(document).ready(function () {
            $('#countryDropdown').change(function () {
                var countryId = $(this).val();
                if (countryId) {
                    $.ajax({
                        url: '@Url.Action("GetStatesByCountry", "Employee")', // Adjust the URL to match your controller/action
                        type: 'GET',
                        data: { countryId: countryId },
                        success: function (data) {
                            $('#stateDropdown').empty();
                            $('#stateDropdown').append('<option value="" selected disabled>Select State</option>');
                            $.each(data, function (index, item) {
                                $('#stateDropdown').append('<option value="' + item.id + '">' + item.name + '</option>');
                            });
                        }
                    });
                }
            });

            $('#stateDropdown').change(function () {
                var stateId = $(this).val();
                if (stateId) {
                    $.ajax({
                        url: '@Url.Action("GetCitiesByState", "Employee")',
                        type: 'GET',
                        data: { stateId: stateId },
                        success: function (data) {
                            $('#cityDropdown').empty();
                            $('#cityDropdown').append('<option value="" selected disabled>Select City</option>');
                            $.each(data, function (index, item) {
                                $('#cityDropdown').append('<option value="' + item.id + '">' + item.name + '</option>');
                            });
                        }
                    });
                }
            });
        });
    </script>


}



